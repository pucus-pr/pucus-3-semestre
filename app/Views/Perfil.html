<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Perfil</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
  <link href="css/styleperf.css" rel="stylesheet">
  <link href="css/nav.css" rel="stylesheet">
  <link href="css/home.css" rel="stylesheet">
</head>

<body>
  <nav>
    <ul>
        <li class="logo">
            <img alt="Logo" src="img/polvo.png">
        </li>
        <li><a href="home"><i class="fa fa-home"></i> home</a></li>
        <li><a href="#"><i class="fa fa-book"></i> placeholder</a></li>
        <li><a href="#"><i class="fa fa-users"></i> placeholder</a></li>
        <li><a href="perfil"><i class="fa fa-phone"></i> configuração</a></li>
    </ul>
</nav>

  <div class="wrapper">
    <div class="profile">
      <!-- Banner -->
      <div class="cover-photo">
        <img id="banner-img" src="img/placeholder-banner.jpg" alt="">
      </div>

      <!-- Foto de perfil, nome, email, bio, curso -->
      <div class="profile-info">
        <img id="profile-img" src="img/placeholder-profile.jpg" alt="Foto de Perfil" class="profile-pic">
        <h2 id="profile-name"></h2>
        
        <p id="profile-email"></p>
        <p id="profile-bio"></p>
        <div class="info">
          <span id="profile-course"></span>
        </div>
        <button class="edit-profile-btn" onclick="openModal()">Editar perfil</button>
      </div>

      <div id="posts-container">
        

      </div>

      <!-- <div class="post">
        <div class="postHeader">
          <div class="postIcon">
            <img src="img/adan.png" width="70px" alt="">
          </div>
          <div class="postNnD">
            <h1>Arthur Sales Major</h1>
            <p></p>
          </div>
          <div class="postDescription">
            <p>Eu amo o pucus!</p>
          </div>
        </div>
        <div class="postmid">
          <img src="img/adan.png" alt="">
        </div>
        <div class="postBot">
          <div class="upVolt">
            <i class="bi bi-arrow-up"></i>
          </div>
          <div class="tags">
            <i class="bi bi-shield-fill-exclamation"></i>
            <i class="bi bi-pc-display-horizontal"></i>
            <i class="bi bi-stars"></i>
            <i class="bi bi-building-fill"></i>
            <i class="bi bi-exclamation-triangle-fill"></i>
          </div>
          <div class="downVolt">
            <i class="bi bi-arrow-down"></i>
          </div>
        </div>
      </div> -->
    </div>
  </div>

  
  <div id="editProfileModal" class="edit-profile-modal">
    <div class="edit-profile-modal-content">
      <div class="edit-profile-modal-header">
        <h2>Editar Perfil</h2>
        <span class="edit-profile-close" onclick="closeModal()">&times;</span>
      </div>

      <div class="edit-profile-cover-photo">
        <img src="img/adamfoda.jpg" alt="Capa">
        <label class="edit-profile-upload-btn">
          <i class="bi bi-camera-fill"></i>
          <input type="file" id="coverPhotoInput">
        </label>
      </div>

      <div class="edit-profile-profile-photo">
        <img src="img/adan.png" alt="Perfil">
        <label class="edit-profile-upload-btn small">
          <i class="bi bi-camera-fill"></i>
          <input type="file" id="profilePhotoInput">
        </label>
      </div>

      <form  class="edit-profile-modal-body">
        <label for="username">Nome</label>
        <input type="text" id="username" placeholder="Digite seu nome">

        <label for="userhandle">@user</label>
        <input type="text" id="userhandle" placeholder="@exemplo">

        <label for="bio">Bio</label>
        <textarea id="bio" placeholder="Algo sobre você..."></textarea>

        <label for="course">Curso</label>
        <input type="text" id="course" placeholder="Seu curso">


        <button type="button" class="edit-profile-save-btn" onclick="saveProfile1()">Salvar</button>
      </form>
    </div>
  </div>

  <script>
    function openModal() {
      document.getElementById('editProfileModal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('editProfileModal').style.display = 'none';
    }

    window.onclick = function (event) {
      const modal = document.getElementById('editProfileModal');
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    function saveProfile1() {
      const user = JSON.parse(localStorage.getItem("user")) || {};

      user.name = document.getElementById("username").value;
      user.email = document.getElementById("userhandle").value;
      user.bio = document.getElementById("bio").value;
      user.course = document.getElementById("course").value;

      localStorage.setItem("user", JSON.stringify(user));

      alert("Perfil salvo com sucesso!");
      location.reload(); // Recarrega para refletir as mudanças
}

  </script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("user"));
    if (!user) return;

    // Dados básicos
    document.getElementById("profile-name").textContent = user.name || "Usuário";
    document.getElementById("profile-email").textContent = user.email ? `${user.email}` : "email";
    document.getElementById("profile-bio").textContent = user.bio || ""; // Pode vir em branco
    document.getElementById("profile-course").textContent = user.identifier || "Curso não definido";

    // Imagens
    document.getElementById("profile-img").src = user.profilePicture || "img/placeholder-profile.jpg";
    document.getElementById("banner-img").src = user.banner || "img/placeholder-banner.jpg";

    // Se quiser, pode preencher os campos do modal também:
    document.getElementById("username").value = user.name || "";
    document.getElementById("userhandle").value = user.email || "";
    document.getElementById("bio").value = user.bio || "";
    document.getElementById("course").value = user.identifier || "";
  });
</script>




</body>

</html>


